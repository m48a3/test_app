<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<title>Документ без названия</title>
	<style>
	body {
		font-family: "Myriad Pro", Myriad, "Liberation Sans", "Nimbus Sans L", "Helvetica Neue", Helvetica, Arial, sans-serif;
		
	}

	.x1 {
	width: 50px;
	}
	.x2 {
	width: 50px;
	}
	.y {
	width: 50px;
	}
	.rectangle {
	width: 500px;
	height: 830px;
	background: #cccccc;
	border-radius: 50px;
	position: absolute;
}
	.rectangle_box {
	width: 500px;
	height: 830px;

	float: right;
}

	.rectangle-big {
	width: 400px;
	height: 100px;
	background: #999999;
	border-radius: 25px;
	position: absolute;
	left: 50px;
	top: 700px;
	display: table-cell;
	text-align: center;
	vertical-align: middle
	outline: none;
		border: 0;
}
	.rectangle-big:hover {
    vertical-align: middle;
    background: #808080;
}
.rectangle-big:active {
    vertical-align: middle;
    background: #666;
	}

	.rectangle-small{
		width: 100px;
	height: 35px;
	background: #999999;
	border-radius: 10px;
	display: table-cell;
	text-align: center;
	vertical-align: middle;
		color:white;
		outline: none;
		border: 0;
	}
	.rectangle-small:hover {
    vertical-align: middle;
    background: #808080;
}
	.rectangle-small:active {
    vertical-align: middle;
    background: #666;
	}
	.positioned {
	position: absolute;
	left: 30px;
}
	.text-frame {
	position:  relative;
	left: 70px;


}
	input[type="file"] {
    display: none;
}
	.text-frame-def {
	position:  relative;
	left: 70px;
		line-height:
	}
	.inside {
		line-height: 1
	}
	.buttons {
		line-height: 3;
	}
	.table {
		display: table;
		position: relative;
		border-spacing: 50px 1px;
		right:100px;
	}
	.table-el{
		display: table-cell;
	}
	.main-text{font-size: 12pt}
	.big-text{font-size: 24pt}
	.extra-text{font-size: 38pt;
	position: absolute;
	bottom: -25px;
	left: 60px;
	color:white;
	}
	.text-smallbutton{
	text-align: center;
	vertical-align: middle
	}
	.canvas {
			float: right;
            background-color: black;
        }
</style>
</head>

<body>
<div class = "positioned">
	<div class="rectangle"></div>
	<div class ="text-frame">
		<p class = "big-text">Характеристики</p>
		<div class = "inside">
			<div class = "buttons">
				<form>
					<label class="rectangle-small" >
						Файл
					<input class = "rectangle-small" type="file" value="Файл" id="fileinput">
					</label>
				</form>
				<div class="form-check">
					<input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault1">
					<label class="form-check-label" for="flexRadioDefault1">
						Максимальная мощность
					</label>

				</div>
				<div class="form-check">
					<input class="form-check-input" type="radio" name="flexRadioDefault" id="flexRadioDefault2">
					<label class="form-check-label" for="flexRadioDefault2">
						Максимальный КПД
					</label>
				</div>
			</div>
		</div>
	</div>
	<div class = "text-frame-def">
		<p class = "big-text">Тип трансформатора</p>
		<div class = "inside">
			<div class = "buttons">
				<div class="form-check">
					<input class="form-check-input" type="radio" name="flexRadioDefault2" id="flexRadioDefault3">
					<label class="form-check-label" for="flexRadioDefault3">
						Поперечно-продольный
					</label>

				</div>
				<div class="form-check">
					<input class="form-check-input" type="radio" name="flexRadioDefault2" id="flexRadioDefault4">
					<label class="form-check-label" for="flexRadioDefault4">
						Продольно-поперечный
					</label>
				</div>
				<div class="form-check">
					<input class="form-check-input" type="radio" name="flexRadioDefault2" id="flexRadioDefault5">
					<label class="form-check-label" for="flexRadioDefault5">
						Продольно-продольный
					</label>
				</div>
				<div class="form-check">
					<input class="form-check-input" type="radio" name="flexRadioDefault2" id="flexRadioDefault6">
					<label class="form-check-label" for="flexRadioDefault6">
						Поперечно-поперечный
					</label>
				</div>

			</div>
		</div>
	</div>
	<div class = "text-frame-def">
		<p class = "big-text">Значения</p>
		<div class = "table">

			<form>
<!--				<input id="x1" type="range" value="100" min="0" max="250">-->
<!--				<input id="x2" type="range" value="100" min="0" max="250">-->
<!--				<input id="y" type="range" value="100" min="0" max="250">-->
					<div class = "table-el">
					<input class = "Nx1"  type="number" min = "0" max = "250" value="10" placeholder="w" onKeyUp="if(this.value>250){this.value='250';}else if(this.value<0){this.value='0';}">
					</div><div class = "table-el">
					<input class = "Nx2" type="number" min = "0" max = "250" value="10" placeholder="l" onKeyUp="if(this.value>250){this.value='250';}else if(this.value<0){this.value='0';}">
					</div><div class = "table-el">
					<input class = "Ny" type="number" min = "0" max = "250" value="10" placeholder="h"  onKeyUp="if(this.value>250){this.value='250';}else if(this.value<0){this.value='0';}">
					</div><div class = "table-el">
				<input id="color" type="color" value="#999999">
					</div>
			</form>
		</div>
	</div>

	<form>
  <button type = "button" class ="rectangle-big" id = "submit">
	  	<p class = "extra-text">
		Выполнить
		</p></button>
	</form>
</div>
<script>
document.querySelector("#submit").onclick = function(){
var x1 = document.querySelector(".Nx1");
var x2 = document.querySelector(".Nx2");
var y = document.querySelector(".Ny");
  if (x1.value == x2.value && x1.value == y.value){
  document.querySelector(".Nx1").value = 100;
  document.querySelector(".Nx2").value = 100;
  document.querySelector(".Ny").value = 100;
  }
}
</script>

<script type="text/javascript">
  function readSingleFile(evt) {
    var f = evt.target.files[0];
    if (f) {
      var r = new FileReader();
      r.onload = function(e) {
          var contents = e.target.result;
          var ct = r.result;
          var words = ct.split(' ');
          alert(words[0]);
          document.querySelector(".Nx1").value = words[0];
          document.querySelector(".Nx2").value = words[1];
          document.querySelector(".Ny").value = words[2];
          console.log (words[0]);
          console.log (words[1]);
          console.log (words[2]);
      }
      r.readAsText(f);
    } else {
      alert("Failed to load file");
    }
  }

  document.getElementById('fileinput').addEventListener('change', readSingleFile, false);
</script>
<script>
document.querySelector("#submit").onclick = function(){
var canvas = document.createElement('canvas');
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
canvas.globalCompositeOperation='destination-over';
document.body.appendChild(canvas);
var ctx = canvas.getContext('2d');


var x1 = document.querySelector(".Nx1");
var x2 = document.querySelector(".Nx2");
var y = document.querySelector(".Ny");
var color = document.querySelector('#color');
var all = 0;
var all = +x1.value + +x2.value + +y.value;
console.log (all);
if (all < 100)
{
	x1.value = x1.value*2;
	console.log (x1);
	x2.value= x2.value*2;
	y.value= y.value*2;
}

function draw(){

  ctx.clearRect(0, 0, canvas.width, canvas.height);


  var wobble = Math.sin(Date.now()/250)*window.innerHeight/50;


  drawCube(
    window.innerWidth/2,
    window.innerHeight/2 + y.value/2,
    Number(x1.value),
    Number(x2.value),
    Number(y.value),
    color.value
  );

  requestAnimationFrame(draw);
}
draw();


function shadeColor(color, percent) {
  color = color.substr(1);
  var num = parseInt(color, 16),
    amt = Math.round(2.55 * percent),
    R = (num >> 16) + amt,
    G = (num >> 8 & 0x00FF) + amt,
    B = (num & 0x0000FF) + amt;
  return '#' + (0x1000000 + (R < 255 ? R < 1 ? 0 : R : 255) * 0x10000 + (G < 255 ? G < 1 ? 0 : G : 255) * 0x100 + (B < 255 ? B < 1 ? 0 : B : 255)).toString(16).slice(1);
}


function drawCube(x, y, wx, wy, h, color) {
    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.lineTo(x - wx, y - wx * 0.5);
    ctx.lineTo(x - wx, y - h - wx * 0.5);
    ctx.lineTo(x, y - h * 1);
    ctx.closePath();
    ctx.fillStyle = shadeColor(color, -10);
    ctx.strokeStyle = color;
    ctx.stroke();
    ctx.fill();

    ctx.beginPath();
    ctx.moveTo(x, y);
    ctx.lineTo(x + wy, y - wy * 0.5);
    ctx.lineTo(x + wy, y - h - wy * 0.5);
    ctx.lineTo(x, y - h * 1);
    ctx.closePath();
    ctx.fillStyle = shadeColor(color, 10);
    ctx.strokeStyle = shadeColor(color, 50);
    ctx.stroke();
    ctx.fill();

    ctx.beginPath();
    ctx.moveTo(x, y - h);
    ctx.lineTo(x - wx, y - h - wx * 0.5);
    ctx.lineTo(x - wx + wy, y - h - (wx * 0.5 + wy * 0.5));
    ctx.lineTo(x + wy, y - h - wy * 0.5);
    ctx.closePath();
    ctx.fillStyle = shadeColor(color, 20);
    ctx.strokeStyle = shadeColor(color, 60);
    ctx.stroke();
    ctx.fill();
  }
  }
  </script>
</body>
</html>
